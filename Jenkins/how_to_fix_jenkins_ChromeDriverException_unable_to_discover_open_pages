#
# how to check ut_coverage_all failed with ChromeDriver Exception "unable to discover open pages"
#
  http://${jenkins_master}:8080/job/${jenkins_jscover_job1}/688/consoleFull

	
	[ERROR] Failed to execute goal com.github.tntim96:jscover-server-maven-plugin:1.0.14:jscover (default-cli) on project sap.viz.controls: Execution default-cli of goal com.github.tntim96:jscover-server-maven-plugin:1.0.14:jscover failed: java.lang.reflect.InvocationTargetException: unknown error: unable to discover open pages
[ERROR] (Driver info: chromedriver=2.19.346078 (6f1f0cde889532d48ce8242342d0b84f94b114a1),platform=Windows NT 6.1 SP1 x86_64) (WARNING: The server did not provide any stacktrace information)
[ERROR] Command duration or timeout: 61.23 seconds
[ERROR] Build info: version: '2.46.0', revision: '61506a4624b13675f24581e453592342b7485d71', time: '2015-06-04 10:22:50'
[ERROR] System info: host: '${jenkins_slave1}', ip: '10.193.229.200', os.name: 'Windows Server 2008 R2', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_45'
[ERROR] Driver info: org.openqa.selenium.chrome.ChromeDriver
[ERROR] -> [Help 1]


##  Root cause
1) plugin pre-requisite: Jenkins slave service must be log on as admin, instead of Local System account.

Same issue met by others.
	
	Comment 22 by nka...@logitech.com, Sep 9, 2015
	
	I have same issues with Browser launch but url does not load, 
	Same test program was able to run, suddenly it stopped working so i have update JDK 1.8 and jre 1.8.0._60  chromedriver 2.19.346078. still have the same issues.  
	
	manually copied url into webdriver browser it starts executing the test cases.
	Looks like initial loading for URL is the problem. 
	
	##  ref doc: https://bugs.chromium.org/p/chromedriver/issues/detail?id=598 

## debug steps
1) local build on${build_machine1}: build pass
  
  mvn clean package -P !jshint
  mvn -f container/pom.xml jscover-server:jscover -Punit_test
 
2) local build on ${jenkins_slave1}.dhcp.pgdev.sap.corp: build pass
3) re-download plugin C:\.m2\repository\org\chromium\download\chrome\test\chromedriver\2.19\chromedriver-2.19-win32.zip: jenkins job failed.
4) switch to run the job on ${jenkins_slave2} : jenkins job failed.


[works]		5) switch jenkins service on ${jenkins_slave1}.dhcp.pgdev.sap.corp from Local System account to global\service.tip.cvom: jenkins job succeeded.

					I have found the solution for this issue. it is working fine for me.
					If you are using windows, run your Jenkins services in system admin,
					1. open to run cmd
					2. Enter service and click Okay button
					3. A service dialog box open, locate Jenkins services. Go to properties of service
					4. Go to logon tab, choose the second option. provide the your admin user not the local server
					5. then restart the services.
					This will work

				# ref doc: https://groups.google.com/forum/?hl=en#!topic/selenium-users/gfvfH-YEC48
				# ref doc: https://bugs.chromium.org/p/chromedriver/issues/detail?id=679
	
	
[NOT TRY since it works after jenkins slave service is log on as admin.]	6) add option '--no-sandbox' to chromedriver: TODO	
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	In my case, adding the --no-sandbox argument to ChromeOptions solved the problem.
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	For avoiding this problem we add this option for driver.
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	ChromeOptions options = new ChromeOptions();
[NOT TRY since it works after jenkins slave service is log on as admin.]	               options.addArguments("no-sandbox");
[NOT TRY since it works after jenkins slave service is log on as admin.]				   
[NOT TRY since it works after jenkins slave service is log on as admin.]	Adding
[NOT TRY since it works after jenkins slave service is log on as admin.]	  capabilities: {
[NOT TRY since it works after jenkins slave service is log on as admin.]	    browserName: 'chrome',
[NOT TRY since it works after jenkins slave service is log on as admin.]	    chromeOptions: {
[NOT TRY since it works after jenkins slave service is log on as admin.]	      args: ['--no-sandbox']
[NOT TRY since it works after jenkins slave service is log on as admin.]	    },
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	to my Protractor configuration file solved the problem.
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	7)  to set 'Turn off display after' in Windows' Power Options to 'Never' : TODO
[NOT TRY since it works after jenkins slave service is log on as admin.]	I had the same problem, but updating to the latest ChromeDriver (v2.8) did not solve it for me. 
[NOT TRY since it works after jenkins slave service is log on as admin.]	I was running Selenium on a CI server (A Dell machine running 64 bit Win 7). 
[NOT TRY since it works after jenkins slave service is log on as admin.]	I got the exception every time when the server had been 'idle' for a while.
[NOT TRY since it works after jenkins slave service is log on as admin.]	
[NOT TRY since it works after jenkins slave service is log on as admin.]	What fixed the problem for me was to set 'Turn off display after' in Windows' Power Options to 'Never'.
[NOT TRY since it works after jenkins slave service is log on as admin.]		
[NOT TRY since it works after jenkins slave service is log on as admin.]		# ref doc: http://stackoverflow.com/questions/21001652/chrome-driver-error-using-selenium-unable-to-discover-open-pages
	
